{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}

    
{% if session["user_id"] %}
<h1 class="my-4">Welcome {{ username }}!</h1>
<div class="row justify-content-center text-center">
    <div class="col-6 col-md-5 mb-4">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
                <h5>Chess Stats</h5>
            </div>
            <div class="card-body">
                <p><strong>Wins:</strong> {{ chess_wins }}</p>
                <p><strong>Ties:</strong> {{ chess_ties }}</p>
                <p><strong>Losses:</strong> {{ chess_losses }}</p>
                <p>
                    <strong>Win-to-Loss Ratio:</strong> 
                    <span title="Wins divided by losses">
                        {% if chess_losses > 0 %}
                            {{ (chess_wins / chess_losses) | round(2) }}
                        {% else %}
                            {{ chess_wins }}
                        {% endif %}
                    </span>
                </p>
                <a href="/chess" class="btn btn-outline-success">Play Chess</a>
            </div>
        </div>
    </div>

    <div class="col-6 col-md-5 mb-4">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
                <h5>Tic Tac Toe Stats</h5>
            </div>
            <div class="card-body">
                <p><strong>Wins:</strong> {{ tictac_wins }}</p>
                <p><strong>Ties:</strong> {{ tictac_ties }}</p>
                <p><strong>Losses:</strong> {{ tictac_losses }}</p>
                <p>
                    <strong>Win-to-Loss Ratio:</strong> 
                    <span title="Wins divided by losses">
                        {% if tictac_losses > 0 %}
                            {{ (tictac_wins / tictac_losses) | round(2) }}
                        {% else %}
                            {{ tictac_wins }}
                        {% endif %}
                    </span>
                </p>
                <a href="/tictacrooms" class="btn btn-outline-success">Play Tic Tac Toe</a>
            </div>
        </div>
    </div>
</div>

{% else %}
<div class="jumbotron text-center">
    <h1 class="display-4">Welcome to TriplePlay Arena</h1>
    <p class="lead">Triple Play Arena is the platform to play multiplayer games with your friends, you can play Tic Tac Toe, Chess, or Rock Paper Scissors</p>
    <p>If you would like to play games, please log in</p>
    <a class="btn btn-primary btn-lg" href="/login" role="button">Log In</a>
    <hr class="my-4">
    <p>If you are new to the platform, please register:</p>
    <a class="btn btn-secondary btn-lg" href="/register" role="button">Register</a>
</div>
{% endif %}
{% endblock %}
